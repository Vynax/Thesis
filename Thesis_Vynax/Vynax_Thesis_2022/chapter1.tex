\chapter{緒論}
\section{研究背景與動機}
\indent
隨著整個市場對於 SSD (Solid State Drive) 的需求日漸增加，現今的技術也越朝著把更多的資料塞進 SSD 裡面。也意味著對於容量的需求急速成長。
但是SSD的諸多缺點也因此而越來越明顯，寫越多的資料進去，每單位的壽命就越少，資料錯誤的可能性也越高。
也就需要越來越多的技術來維護 SSD 的壽命以及資料的正確性。

Open Channel SSD 就是在這樣的需求下誕生了，這項技術嘗試把某些以往給 SSD 控制器管理的技術交給 Host 管理，既可以減輕 SSD 控制器的負擔，還能讓 Host 管理哪些是可能之後還會用到的資料，進而只將這些資料存在記憶體，達到減少記憶體使用量及提升快取效率的目的。

資料通常可能會分為兩種，一種是熱門資料 (Hot Data)，通常很快就會被覆寫，例如暫存檔或是存在硬碟的虛擬記憶體；另外一種是冷門資料 (Cold data)，會存放很久才有可能會更改，例如照片，影片，遊戲檔案等。
現行的 Open Channel SSD 沒考慮到資料特性，目前是以循序寫入為主，這樣極有可能將 Hot Data 及 Cold Data 擺在一起，導致之後後要整理資料時需要花費較多的資源來運作。

相較於 SSD Controller， Host 的資源很豐富，有很多記憶體以及強大 CPU，於是我們把劃分資料的工作放進 Open Channel SSD 的核心模組，希望可以透過冷熱分群的方式，將經常更改的熱門資料與不常更改的冷門資料分開，進而改善 Garbage Collection 的效率。

%\section{研究背景與動機}
%\indent
%Robot Framework\cite{robotframework}是一個自動化測試框架，其中的關鍵字可被視為一個測試步驟，透過將多個關鍵字包裹成一個更高層級的關鍵字時，便可將其視為一個測試流程。

%\indent
%當多個團隊一起開發測試腳本時，關鍵字能夠盡量被重複使用是一個常見的目標。而部份情況中我們可以在撰寫測試腳本時就判斷出撰寫的測試步驟是可以被重複使用，因而將其提前包裹成一個新關鍵字，例如當我們在同一個測試腳本中，有多個步驟需要重複使用時，我們便會提前將其抽取成一個關鍵字提供多處使用，這是可以預知的；但大部分的情況中，我們無法預期目前所撰寫的測試步驟是否會被其他測試腳本再次使用，以兩個測試團隊為例：其中一個測試團隊需要以創立一個項目的流程作為測試腳本中的主要步驟，另外一個測試團隊也需要相同的流程做為測試資料的準備，平時撰寫測試腳本時，兩個組別無法隨時互相溝通，只能以現有的情況做為判斷，因此無法透過提前判斷而去抽取成一個關鍵字，或者其中一個團隊剛好發現其他團隊已有撰寫好之流程，直接拿取做使用且當下未立刻進行抽取關鍵字之重構，導致後續時常需要對現有的程式碼進行重構。

%\indent
%進行重構時，重複的測試步驟往往都是存在於不同的檔案中，一不小心就會有部分程式碼未修改，直到後續執行時才發現錯誤，這些經常都是人為錯漏所導致的。為了避免以上所提及的錯誤不斷發生，導致測試團隊必須再次花費時間針對缺漏的錯誤進行修正，因此在測試團隊重構時，需要一個能夠避免人為錯漏且更加方便的重構工具。

\section{研究目標}
\indent
Open Channel SSD 是一種與作業系統互相合作的一種SSD\cite{OCSSD_Good}，而 LightNVM 則是在 Linux 核心模組中專門管理 Open Channel SSD 的模組\cite{LightNVM}，此模組目前是以循序寫入的模式實作，不過並沒有將資料分類，再依據各分類改變寫入位置，而我們認為可能還有改善效率的空間，因此本論文將針對此模組修改以增進效能。\\
\indent
首先我們紀錄過往 Request 的大小，並取平均值，以此為依據將資料分為四個等級，由熱門資料 (Hot Data) 到冷門資料 (Cold Data)，再判斷當下收到的寫入要求位於哪個等級，最後決定將這次的要求寫入到最佳的位置，以達到最佳的效率。

%\section{研究目標}
%\indent
%劉冠志論文\cite{LIU-Thesis}中提供了測試腳本重構工具RF Refactoring，此工具提供了三種Robot Framework測試腳本的重構方法，分別為重新命名關鍵字、重新命名變數，以及修改關鍵字介面，但仍然無法解決目前所遭遇之問題，因此本論文將針對此工具進行改善，否則開發人員只能使用目前用來撰寫Robot Framework測試腳本的整合式開發環境(RED\cite{RED}、Visual Studio Code\cite{VSCode})中的搜尋取代工具進行重構，因而造成重構效率的降低，以及人工檢查的疏忽，導致重構的錯誤和缺漏等等。為此工具增加重構方法之多元選擇，使其可根據測試人員的需求重構測試腳本，並且在重構過程中能夠避免人為錯漏的問題發生。

\section{論文組織架構}
\indent
本論文共有五個章節，第二章將介紹背景知識及使用工具，第三章介紹如何劃分冷熱資料的演算法之設計，其中介紹了欲修改的 LightNVM 模組運作模式，並且介紹如何將設計加入至 LightNVM 模組中，第四章將以實際效能測試工具測試 Garbage Collection 效率，並且與原本無修改的 LightNVM 比較，第五章會分析實驗結果以及未來研究方向。

%本論文共有六章節，第二章將介紹背景知識及使用工具，第三章介紹擴充RF Refactoring之方法設計，其中介紹了欲擴充之重構方法及其流程，並且介紹如何將重構方法擴充至RF Refactoring中，第四章將會以第三章所設計之方法進行實作，其中包含了重構流程及外掛程式之實作，第五章將以實際Robot Framework測試腳本介紹重構案例，並且邀請測試團隊成員分別使用Visual Studio Code搜尋取代工具及本論文擴充後之重構工具進行重構，後續比較使用之差異。